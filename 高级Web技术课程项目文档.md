        小组成员：刘海强（组长）、翟登展、石林、方冠军

        管理员账户：2445258764@qq.com   密码 ： adminpass

# 高级Web技术课程项目文档 #
## **一．小组任务分配**

### **1.前端：**

**任务：**逻辑设计(刘海强) 、代码编写（刘海强、方冠军）、代码测试修复（刘海强、方冠军）、项目部署（刘海强）

**负责人：**刘海强（工作量占比50%）、方冠军（工作量占比50%）

**部署人：**刘海强

### 2.**后端：**

**任务：**架构设计（石林）、前后端交互接口设计（翟登展、石林）、数据库设计（石林、翟登展）、代码编写（翟登展、石林）、代码检查与测试（石林、翟登展）、构建部署流水线（石林）

**负责人：**石林（工作量占比50%）、翟登展（工作量占比50%）

**部署人：**石林

### 3.**需求规划：**

**负责人：**全组

## **二．部署说明**

### **1.前端：**

        （1）IP：[http://106.54.82.100:81/](http://106.54.82.100:81/)

        （2） 部署方式：前端使用Nginx部署，在腾讯云的一台服务器上安装了Nginx，将项目代码打包后生成的dist文件上传到服务器上，并在nginx.conf文件中配置，如下图：

![图片](https://uploader.shimo.im/f/uv5lS4jsvL3tWjr5.png!thumbnail)

       这里使用了81端口，并配置好了后端的访问地址，这样就可以和后端联系起来，每次更改代码后也只需将新的dist文件上传到服务器上的相应路径下，重新启动Nginx服务器即可。

### 2.**后端：**

        （1）IP: http://118.190.235.55:8080/，访问http://118.190.235.55:8080/welcome可以方便地判断后端是否在线。后端代码github地址为https://github.com/adwebBackend/backend

        （2）部署方法：为了方便一键部署，后端使用了软件工程课程提供的华为云流水线功能进行部署。我们将部署过程分为三个步骤：①从后端项目的github仓库中获得源代码；②将代码编译构建成一个jar包；③把打好的最新的jar包放到服务器上，运行即可。流水线结构如下图：

![图片](https://uploader.shimo.im/f/fmrWPzsJZI8veMZ4.png!thumbnail)

       由于我们使用的git仓库是github，而华为云不支持对github仓库push后自动启动流水线，所以我们还是要在push后手动点击启动按钮，但相比于纯手工的部署方法，借助华为云进行部署已经很方便了。

## **三**．**架构设计**

### **1.前端：**

#### （1）前端项目结构

        项目的前端使用了Angular框架进行开发，同时使用了Angular UI组件库PrimeNG，使用了其中丰富的组件，使用Angular 的脚手架生成了项目的整个框架，然后在此基础上进行项目的搭建，前端项目文件结构如下：

![图片](https://uploader.shimo.im/f/kNwOHSsOTfJSQzoH.png!thumbnail)

       Src目录是应用源代码目录，在src/app下有我们项目的几个子目录，其中/services里存放的是需要使用的服务，如一些请求的服务，/shared下是一些共享的组件，如导航栏组件，/views下就是具体的一些组件，里面包括登录注册，学生、老师和管理员的一些组件。而一些静态资源图片等放在src/assets目录下。同时在proxy.config.json文件中配置了后端的路径，使用了一个代理解决了跨域的问题。

#### （2）前端项目设计

       首先是登录注册的实现，是在根模块下的组件，用户使用邮箱注册登录，将用户的登录数据传给后台后，成功会返回该用户的一个Token，使用token验证机制。由于本次项目涉及3类人员，学生、老师和管理员、他们具有一些相同的功能和自己独特的功能，所以整体上分为3个板块，又在其中定义了课程相关、项目相关、任务相关和用户相关的组件，然后用各个功能的组件拼出整个页面。在设计不同用户的显示界面时，根据用户登录后端判断返回用户是那类人员进入相应的页面里，与后端的交互通信则定义在服务中，根据后端地址和请求路径封装了Angular的http请求，而且还实现了一个拦截器，来拦截后端返回的错误请求并进行相应的处理。在路由方面，实现了一个路由守卫，没有登录的用户是不能直接输入链接来访问系统的，而且其中也是根据我们的3个板块分为3个主路由，又在其中定义了各自的子路由， 通过路由来实现不同页面之间的导航。以上就是整体的一个设计，具体的实现则体现在各个组件的创建和组合，来展示出整个项目。

### 2.**后端：**

#### （1）数据库设计

       详见“er图.pdf”文件。

#### （2）代码结构设计

       后端使用了springboot+hibernate框架进行开发。在代码编写开始之前，负责后端开发的组员对是选择myBatis还是选择hibernate进行数据库持久化操作进行了讨论，最终我们决定选择使用hibernate。之所以选择hibernate，是因为hibernate避免了手工编写sql语句，而手写的sql语句是很容易出现错误的。Hibernate对象/关系映射能力强，数据库无关性好，同时它可以节省很多代码，提高开发效率。

       后端代码文件结构如下图：

  ![图片](https://uploader.shimo.im/f/eNzUhCRWiuQwKBTW.png!thumbnail)

        java目录下面是功能实现代码，“fudan.se.project”目录下的“Application.java”是项目的主程序，“contorller”目录是前后端交互的后端接口，我们将前端发来的请求分为与身份有关的（登录注册等）、与个人信息有关的（头像、项目、密码等个人信息的修改和查看）、与课程有关的、与项目有关的、与任务有关的、与文件管理有关的和与管理员有关的。后端的分工前期也是根据这些不同的功能点进行的。当“contorller”层收到前端的http请求后，contorller对请求信息作了抽取后，就把控制流交给了“service”层。

       “service”目录是项目的核心代码部分。service层根据controller传来的数据进行相应的处理，这些处理可能包括对数据库的增删改查、文件I/O等。而对数据库操作是建立在hibernate框架构建的持久化层上。“repository”目录是对数据库进行建模，里面定义了数据库操作方法的接口，基于hibernate特殊的机制，这些接口不需要编程人员实现，这大大地提高了我们的开发效率。

        “domain”目录对实体类进行了建模，controller下的request目录对POST请求进行了建模。“security”目录下的“SecurityConfig.java”是一个过滤器，对一些不合法的前端请求进行了拦截，只有合法的请求才能被controller接收。security下的“jwt”目录则实现了身份验证，它的主要思想是在每次用户登录成功之后，就生成一个token字符串，并把这个字符串设置一个有效期放在缓存中，每当前端发来需要进行身份验证的请求是，都会将请求携带的token与缓存中的token进行对比，只有对比成功的请求才能不被拦截。“tool”目录下面是一些常用的工具函数，这些函数经常被使用，所以我们把它们统一放在这里。

        “test”目录下是测试文件，在该项目中，我们没有进行严格的junit测试和覆盖度分析，只是写了一部分测试代码方便验证功能实现的正确性。

## **四．需求规划**

       详见“系统设计v1.0.docx”文件。

## **五．代码检查**

### **后端代码：**

![图片](https://uploader.shimo.im/f/8hEsuETmdO0N5Hnv.png!thumbnail)

        我们使用了华为云的代码检查功能对后端代码进行了检查，最终检查出了14个问题，其中包括1个致命问题，6个严重问题，7个一般问题，我们逐一解决了这些问题，将未解决问题数归零。

        在代码复杂度方面，平均圈复杂度仅10.8，处于一个中等偏下的复杂水平。代码重复率仅为3.4%，说明代码质量还是不错的。

## **六．实验过程**
## 1.  需求分析 ##
        5月初，我们开始着手进行项目的开发。而整个开发过程的第一步就是需求分析。为此，我们小组进行了一次网络会议，逐字逐句地阅读了助教给的文档，并整理出一份需求文档。后面我们的工作都是围绕着这份文档展开的。
## 2. 数据库及接口设计 ##
        确认完需求之后，后端的两人一起讨论确定了数据库的设计，依据我们在数据库设计课程中学到的关系数据库建模的思想，我们花了一个晚上的时间设计出数据库的E-R图。这份E-R图可以在附件“E-R图.pdf”看到。接下来我们就根据我们的设计编写了“create.sql”文件，然后在服务器上完成了数据库的建立。

        为了前后端能够拥有一个统一的接口规范，由后端主导，我们设计出了一份接口文档。该文档对每个接口的接口名、内容类型、需要的数据及命名进行了约定，并规定了在各种情况下后端response的状态码和数据内容。从后面的实践来看，设计这份文档避免了前后端各写各的的情况，将前后端精准地对接起来，是一个非常成功的设计。
## 3. 前后端代码编写 ##
（1）前端

	    前端的相关开发是两个人进行的，因为这是一个整体的项目，不同的人对页面的布局或者审美等会有不同的感受，所以主要是协同开发，开发的过程主要分为三个阶段来实现。

	    第一阶段是整体设计，我们根据项目的需求分析，设计好了前端页面具体的一个初始构想，包括页面的整个布局，和各个功能在什么页面中实现，并和后端定义好交互的接口，协商好一些基本的页面css，以便统一的布局风格，因为Angular有很多优秀的UI库可以使用，我们选择使用了其中的PrimeNG,然后创建好了基本的框架和项目所需要的各种组件以及封装好基本的服务类，第一阶段主要是通过开会的方式一起协同开发，这一阶段也是开发过程中最重要的阶段。

	     第二阶段是分工完成，就是根据我们设计好的一个架构后，分工完成每个组件的功能，根据我们设计3个主要板块来进行，这样会有很少冲突，然后我们就可以独立完成任务，但是其中还是少不了沟通，因为其中还是会有一些相关的代码部分，或者可以重复使用的东西，同时也会根据具体实现展示出的代码来调整一下我们最初的布局构想，边开发边完善，这里我们也使用了本地测试，模拟一个后端的接口进行本地的数据请求，虽然不是正确的数据，但是可以看到页面的一个基本布局情况，便于我们前端的开发，全部完成后再将我们的代码合在一起后，进行下一阶段。

	     第三阶段是测试修复，实现了整个代码后，我们进行检测，包括页面之间的路由导航是否会有冲突遗漏，页面的布局是否统一无异常，各个功能点是否完全展示，和后端的交互是否会出现各种的问题，不断地测试找出问题，然后再解决，在这个阶段会有各种的问题出现，主要还是和后端的交互上，如上传文件中处理文件的类型，还有很多404的错误请求，大部分是和后端请求字段不一致造成的，还有页面的路由跳转问题，在路由中传递需要的参数，和回退后也需要相关的参数才能退回到刚才的页面中，不至于出现页面正确而因缺少参数而请求不到数据。

	最后是和后端的结合，前后端全部完成了代码部分的工作后，我们统一进行了测试，来检验每一个功能点的实现情况。不断地完善直到最后。
（2）后端

        后端开发我们使用GitHub进行协作，从第一次项目上传，到最后一次bug修复，我们累计push了80多次，下面是部分更新GitHub仓库的日志：

![图片](https://uploader.shimo.im/f/4MzF7pRcs6t9ehLq.png!thumbnail)

![图片](https://uploader.shimo.im/f/MIRQRujjfSTNWWGt.png!thumbnail)

        在进行代码编写前，我们设计好了接口文档，对所有前后端交互的接口进行规范，明确请求类型、参数以及响应格式、数据，这在后续的开发过程中起到了提纲挈领的作用，可以在开发过程中明确思路。

        在开发过程中，尽管后端整体架构明确，层次清晰，但是由于前后端交互逻辑的复杂，以及前端请求数量相对较多，想要直接完成对每个层次每个部分的架构上细节的设计还是有一定的困难。为了避免一些不必要的麻烦而给后续的开发以及维护带来困难，在后端开发部分我们采用了边设计、边开发、边完善的策略，分阶段地完成后端开发，在设计的同时进行开发的尝试，并对已经确定的开发部分进行测试完善，这样尽量减少开发过程中的缺陷对项目造成的影响。

        对于整个后端开发阶段，大致可以分为三个阶段。前期阶段共同开发，搭建项目雏形，实现基本功能（登录注册身份认证等）。由于刚开始的时候后段就是一个空架子，而且登录注册、身份认证、个人信息为不等部分涉及到的问题比较多，在后续的开发中也会遇到相似的问题，因此前期共同开发，打开突破口，也有利于后续的开发与测试。中期阶段我们采用开发与测试并行的策略。此时后端复杂的问题基本解决，剩下的部分涉及到的细节问题比较多，此时测试就显得尤为重要，而且测试越早进行越好，因此，我们由一人进行开发，一人进行测试工作，测试人员在测试过程中发现的缺陷可以及时反馈到开发人员，开发人员可以做出相应的调整，避免缺陷不断扩散，为之后的测试与维护造成更大的麻烦。后期阶段采用协同工作的形式。此时开发工作基本已经完成，可能会遗留一些存在争议或开发困难的工作，通过腾讯会议等办公软件，以在线讨论协商的形式协同工作，可以很大程度上提升工作效率，更有效地找出隐藏问题，保证功能的完整有效。
## 4. 最终测试 ##
        前后端各自任务都基本完成之后，我们进行了集中的测试。在测试中，我们还是发现了很多问题。由于前后端明确的分离，我们很容易地分析出每个bug出现的原因，然后交给相应的负责人逐一解决。为了使bug能够无遗漏地解决，后端两人把发现的bug写到一份bug文档里，对于责任在于后端的问题，我们第一时间进行了解决，对于前端的锅，我们要求他们每解决一个就将bug文档里的相应条目标记为“已解决”。在边测边改的迭代化开发过程中，我们最终完全完成了项目的开发。

## **七．项目亮点、难点、加分项**
## 1. 前端 ##
（1）亮点

①良好的安全访问

       我们设置了拦截器，在与后端的交互中会返回各种未知的错误，所以我们请求后先接收到返回的错误，进行简单的提示处理，由于使用了Token验证的机制，我们给Token加了一个期限，会话过期会返回一个错误码，我们受到错误码后会提示用户会话过期，返回登录页面重新登录，还有在路由中我们添加了路由首位，即没有登录的用户是无法通过地址直接访问到页面的内容，只有经过验证的用户才可以，会很好的保证用户的通信安全。

②良好的架构

       我们使用Angula+PrimeNG来开发的项目，Angular是一个可以很快搭建起我们项目的框架，在我们的设计下，将各个功能拆分成一个个组件，而且使用了很优秀的一个UI库PrimeNG,如里面的文件上传，日历，弹窗等等很好的组件，很方便的使用，就能使我们的页面简单整洁的呈现出来，由于我们的每个功能点都有对应的组件，如果以后项目有多变动，如增加一些新功能或者去掉一些旧的功能，都可以很好的拆卸和重装，不会因为一个组件的问题而影响到整个项目。我们还封装了http的请求，这样就可以直接再组件中引入使用，而不用每一次请求都重复一些问题。

③简洁明了的页面

       我们的页面整体呈现出简洁方便，从用户出发，很多地方都有提示，而且易于操作，给用户良好的体验。

（2）难点

       由于是第一次接触Angular的框架，所以一开始使用会因为不熟悉而有一些困难，通过老师给的资料和网上的资源不停的学习，才开始慢慢的进入状态，然后对于PrimeNG的使用有时会有一些困难，由于UI组件是设定好的，有时与我们的设定有些出入，比如数据格式，或者上传文件时的数据格式，如何处理返回结果等都有所偏差，不能很好的直接使用，后来通过自定义的一些修改才使得问题解决。在一个难点时开发时的配合，我们要统一风格，而不同人又有不同的想法，所以有些地方就会出现偏差，导致一些问题需要返工。
## 2. 后端 ##
（1）亮点

①良好的安全策略

        我们在用户权限控制上做了精密的设计。首先，对于需要登录就能访问的接口，我们要求每个http请求都要携带Authorization，这个Authorization是一串字符，后端通过这串字符可以识别出发出这个请求的是哪个用户，对于无法识别出身份信息的访问一律拒绝访问。其次，对于身份验证成功的用户，为了避免改用户进行权限以外的操作，比如学生用户开设课程、教师用户删除用户、没有选某门课就来获取项目信息等，我们在验证完身份信息后，结合具体的接口，通过几个数据库读操作来判断该用户是否有进行该操作的权力，如果没有，则会返回bad request及错误信息。最后，我们考虑到了流量控制的问题，比如在根据邮箱发送电子邮件时，会首先判断是否在1分钟内曾向该邮箱发送过电子邮件，如果是，则不会再次发送，这样就有效的避免了使用同一邮箱疯狂要求后端发送电子邮件来进行流量攻击的问题。

②良好的架构

       利用Springboot框架，我们对后端代码的架构进行了精心的设计，各个层次之间分工明确，各司其职，比如controller层只负责与前端的交互，service只负责功能的实现。在代码编写的过程中，我们也十分明确什么样的代码应该处在什么样的位置。

③多样化的测试手段

        在前端代码迟迟不能交付的情况下，后端使用了多种手段来进行测试。在service层，我们少量地使用了junit进行测试；在前后端交互上，我们使用了Postman进行简单接口的测试，而对于一些比较复杂的接口，如文件上传（可能Postman也能做，但至少我还不会用），我们自己编写了简单的前端代码进行测试。

（2）难点

       Springboot从入门到精通

       Springboot是一个成熟的后端框架，要想初次接触就能熟练地掌握还是十分困难的。为了能够很好地掌握它，我们还是首先看了老师给的视频，然后借鉴了使用Springboot写的一些开源项目，才对这个框架有了比较充分的认识。在真正理解了这个框架之后，我们才开始着手后端开发。

### 3.加分项###

        （1）任务查看方式可以不同时间维度。

        （2）评分规则的细化


## 八．**个人项目总结**

### **1.from刘海强**

**【实验过程】**

	    在本次项目中，我负责前端的开发，项目开始之前我们做好了一些准备工作，首先是整体的项目需求分析，我们小组一起开会讨论，确定好每一功能点，然后设定好前后端交互的接口，然后就是我们前端的小组成员一起开发。

	   我们在开发时都会有及时良好的沟通，因为特殊的原因，我们没有面对面的开发环境，所以通过微信，或者会议的形式来协同开发，交流问题。我们商讨确定了一个前端的整体框架，完成了一些基本的功能后，登录注册的部分，以及定义好项目所需要的组件，我们就可以分工来完成这些组件的功能，可以独立完成各自的任务，而不会有太多的冲突，最后是项目的一个测试，一边测试一边修复问题，这个过程找到了一些错误的地方，我们也都及时的调整和改进。

	   前端的项目部署是我参与的，使用了Nignx服务器部署了前端的项目。

**【遇到的问题及解决办法】**

	     项目的开发过程中遇到了各种各样的问题，通过查找资料和网上的一些解决问题的方法，最终把发现的问题解决。

	（1）跨域问题

	跨域问题是常见的一个问题，由于前后端的项目不是在同一地方，请求时就会出现跨域的问题，使得请求出错，后来通过一个代理，将请求的源地址代理到上面，就解决了这个问题。不会再出现请求出错的问题。

	（2）PrimeNG的使用问题

	    按照PrimeNG的学习文档，在项目中引入，但是安装好后发现很对东西无法使用，这与安装时使用的命令有关，一开始使用的是cnpm，这样虽然会很快安装，但是里面会缺少很多东西，导致资源文件下载不完全，最后发现这个问题后只好使用npm命令，就是慢了些等了很久，在使用库组件的时候，有些组件是可以直接使用的，但是有些组件和我们的设计有一些冲突，如上传文件的时候，我们不但要上传文件，还同时上传了一些JSON数据，所以直接使用这个组件就是不可能的，最后通过自定义的请求方式解决了这个问题，还有一些跟数据格式有关的内容，后端返回的数据格式不符合库组件的要求，所以我们还要进行一些改动。从对PrimeNG的不熟悉到一点点的应用，这个过程学习到很多。

	（3）前后端交互

	    在和后端交互时候也出现了一些问题，在请求的时候会有一些路径或者数据的拼写错误导致请求错误，有一些在我们接口文档中有改动的地方，而没有观察就使得请求的出错。不过这些问题最后都得到了很好的解决。

**【实验心得】**

	     这是一次新的小组合作项目，首先的一个感受就是小组之间的沟通交流是非常重要的，尤其是现在因为特殊原因不能在一起开发项目，只能通过微信会议的方式来沟通，但是组员之间的沟通可以更好的交流，我们在项目的开发过程的不同阶段，都有很好的一个沟通，这样可以更好的解决问题。

	    由于第一次使用Angular 开发新项目，这也是一次学习的过程，通过老师给的资源和网上的一些资源不停的学习，发现问题解决问题，项目从无到有，一点点的搭建起来，这一系列的经历，体验到了一个项目开发的过程。对WEB开发又有了新的理解。

### **2.from石林**

**【实验过程】**

       （1）在需求分析阶段里，我参与了需求的讨论和确定。

       （2）在正式代码编写之前，我和翟登展一起完成了数据库的设计和建立，然后主要是我和翟登展两个人设计了前后端接口。

       （3）在编写后端代码的过程中，我先设计了基本的代码框架结构，然后我和翟登展依据功能进行分工，各自展开了工作。我的第一步工作是实现与用户身份有关的功能，包括登录、注册、发送电子邮件等，token的缓存和处理也是在这个阶段完成的。
       这一步工作完成后，实际上后端的工作已经完成了一半。接下来我们改变了工作分配策略：翟登展先初步实现功能，我的任务是对翟写的代码进行测试和debug。我们在并行工作的时候有一个约定：不会同时修改同一文件，这样就有效地避免了push是出现冲突，免去了很多不必要的麻烦。实际上这个约定也让我们在git操作上基本没有出现过发生冲突的问题。
       （4）在最终测试阶段，我也参与了发现问题和解决问题的工作。

**【遇到的问题及解决办法】**

（1）头像的传输方式

       文件传输是我们在这次项目中遇到的主要问题。在头像管理上，我们起初的设计是通过后端向前端发送文件流来传输头像数据，后来我们发现这种办法行不通，因为在讨论板上，可能要同时请求很多张图片，而多个文件的流同时发送让我们难以做到。在查阅相关资料后，我们讨论出了这样一个方案：建立一个图片服务器，然后只是传给前端一个地址，得到这个地址后就可以从服务器的80端口的相应的文件地址访问到图片了。

（2）文件下载

       在实现文件下载时，我们遇到了下载到的文件没有数据的问题。后来经过认真的查找，终于发现了问题所在：由于开始代码是在本地上写的，文件地址也是本地的，当把代码部署到云端后，文件路径也发生了变化，所以用原来的路径当然就找不到文件了。这个问题也让我认识到任何情况下都不能想当然，还是要结合具体情况做具体处理。

**【实验心得】**

       又是一次小组合作项目，虽然我们小组的合作十分欠缺，但至少我和翟登展还是一直在积极沟通和讨论，从github的提交记录就可以看出来，我们都有很认真地解决每一个问题。我和翟登展也经常通过微信语音、腾讯会议等进行交流，通过这次合作，我们也有了更好的默契。

       总体上来说，这次的后端开发还是很顺利的，虽然遇到了不少小问题，但基本上都能很快地解决，我也从这个项目中对java和Springboot有了更深入的理解。

### **3.from翟登展**

**【实验过程】**

       在本次项目中，我和另一位组员石林一起负责后端的开发。在项目正式开发之前，为了明确需求以及各自的分工，我们通过腾讯会议进行了一次小组讨论。经过一个下午激烈的讨论，通过对项目文档详尽的分析以及大家群策群力，我们最终确定下来项目每个部分具体应该实现的功能，得到产物“系统设计v1.0.docx”文件，并确定下来每个组员所负责的部分。

       进行后端开发时，第一件要做的事情便是要设计好数据库，因此我和石林在开始开发之前，花费了一个晚上完成了数据库的设计，并对接口文档进行了完善。完成这些初始工作之后，我们便正式进入到后端的开发工作。刚开始时我们同时进行开发，我首先完成了个人信息的维护和课程相关的部分，包括个人资本资料与头像的修改，课程的创建、获取、查看基本信息等。这一部分完成后，后端相对较难的部分已经实现，剩下的工作都属于类似但要注意的细节较多的工作，针对这一特点，我们改变了开发策略：由我初步实现功能，石林对完成的功能进行测试。使用这种策略，可以及时检测出开发中的一些细节问题，避免对后续的开发测试产生更大的影响。

       在前后端开发基本完成之后，我们便开始了最终的测试环节。这一阶段所有组员都参与进来，通过腾讯会议实时交流、讨论，很高效地完成了测试环节。

**【遇到的问题及解决办法】**

（1）头像传输问题

       在一开始实现用户头像修改与查看时，由于石林之前做过类似的工作，在和他处不讨论之后，我们确定下来的做法是前端请求之后后端直接返回文件流传递头像。由于这时只是对一个图片的修改，并且后端返回的数据也只有图片，因此这样的实现也没有问题。但是后来涉及到大量图片以及多种数据类型的传输时，这种解决方法便不奏效了。后来经过讨论之后，我们决定建立一个文件服务器，数据库中只存储图片的路径，前端拿到路径后直接访问服务器获取图片，以这种方式解决了这个问题。

（2）分页相关问题

       在后端开发过程中涉及到很多需要分页的功能，比如课程列表、讨论列表等，在查阅资料的时候发现了Spring data的分页工具pagerequest，感觉挺方便的，便使用了这个工具。一开始由于不清楚使用了其过时的创建对象的方法，导致无法正常工作，后来查阅资料后改用PageRequest.of方法创建对象。后来为了简化数据库的操作，在删除课程时给了课程一个新的属性valid，通过这个属性来判断课程是否有效，从而避免了很多数据库的删除操作，但这也直接导致了课程分页时的一个bug。由于这个bug的存在，我们便放弃了使用pagerequest这个工具。

**【实验心得】**

       通过本次项目的开发，我对springboot+hibernate的后端框架有了更深一步的理解。SpringBoot框架在Spring框架的基础上去除了大量的xml配置文件，简化了复杂的依赖管理，减少了大量的开发时间并提高了生产力，并且Hibernate框架也提供了大量的封装，开发者不需要写大量的SQL语句，极大地提高了开发效率。因此，在使用这个框架进行进行后端开发时最大的感受就是十分方便，很多时候一个注解就可以解决很多问题。

       然而Hibernate的缺点也很明显，尤其是在使用mybatis进行最后一次lab开发后，更是感受到了其中的差别：mybatis需要程序员自己编写sql语句，对sql修改和优化非常容易实现 ，而Hibernate的DAO层开发比MyBatis简单，Mybatis需要维护SQL和结果映射；Hibernate对对象的维护和缓存要比MyBatis好，对增删改查的对象的维护要方便；Hibernate数据库移植性很好，MyBatis的数据库移植性不好，不同的数据库需要写不同SQL。总体来说，MyBatis容易掌握，而Hibernate门槛较高。

       由于本次项目开发是小组合作团队开发的项目，因此团队成员之间明确的分工以及良好的协作与沟通就显得尤为重要，我们团队在这方面也做了很多努力。在进行后端开发时，无论从一开始的架构设计，到中间的代码编写，还是最后的测试，我和石林都进行了频繁的交流与沟通，也取得了很好的效果，所有问题都得到解决。在进行最后的检查调试时，我们小组也是进行了一次全员的线上测试，通过腾讯会议协同工作，不仅可以比较全面的发现问题，而且也可以迅速的解决问题，可以很大程度的提高效率。


### **4.from方冠军**

**【遇到的问题及解决办法】**

       1）页面适配问题，一开始设计时由于没有考虑不同设备屏幕分辨率问题，造成了不同的显示效果，具体表现为在某些同学设备上部分组件出现位移。

2）页面刷新后404。

       这个问题是因为前端部分设计时使用了路由进行页面间导航，当部署在服务器上运行后，如果前端没有触发其他的事件服务器不会去访问前端信息，这种情况下会由后端接管路由功能。

       解决方式也无外乎两种，一个是后端修改配置文件设置好404页面的跳转问题，或者由后端回传页面参数，前端接收后跳转相应页面，但是这种方法背离了我们这个项目的初衷——前后端分离，而且前端已经做好的事没必要再去找后端，这个最终被放弃。
       
       另外一种方式也是我们采取的方式，使用angular 的hash模式，修改前端的配置文件，引入 HashLocationStrategy。基于锚点进行内部链接，在显示效果上表现为url中增添了一个#字符，这个hash的内容不会回传给服务器，只是从浏览器url中读取页面信息，基于get到的location和history对象实现页面间跳转。

**【实验心得】**

       经过此次的项目实践，对于前端开发有了更全面的认知。大一时以为只是画画页面，调用几个css库文件就好，现在发现那只不过是UI设计部分，而且真正要使用的项目需要兼顾的地方很多。 首先，设备和网络情况更多样化：此次实践中仅仅几台设备就出现了显示样式的问题；在测试途中发现不同网络情况下系统的使用体验不同，超时等问题，这一部分需要对相应的响应情况做出预先的处理准备。其次，后端数据的处理和显示方式。得益于后端同学涉设计好的规范的接口文档，在前后端交互时可以更加便捷地进行，对于前端信息地处理尤为重要，因为要根据返回地内容决定显示样式，提供一个良好的用户体验。

    另外，在项目开发过程中，协同开发，头脑风暴的采用大大提升了开发的效率，避免了避免造车的情况。在测试过程中，对于问题的定位、原因的分析和故障解决都提供了很大的帮助。

